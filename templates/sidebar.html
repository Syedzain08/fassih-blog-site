<!-- Sidebar Overlay -->
<div
  id="sidebar-overlay"
  class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden hidden"
></div>

<!-- Mobile Sidebar -->
<div
  id="mobile-sidebar"
  class="fixed top-0 right-0 h-full w-80 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out z-50 md:hidden"
>
  <div class="flex flex-col h-full">
    <!-- Sidebar Header -->
    <div class="flex items-center justify-between p-6 border-b border-gray-200">
      <div class="flex items-center">
        <a href="{{ url_for('index') }}">
          <img
            src="https://res.cloudinary.com/diyv3z5pj/image/upload/v1751118021/Logo2_dh4iwg.png"
            alt="Logo"
            class="lg:h-[180px] md:h-[150px] h-[120px] object-cover rounded-xl mt-2 mr-12 md:mr-0 lg:mr-0 lg:mb-2"
          />
        </a>
      </div>
      <button
        id="close-sidebar"
        class="text-gray-500 hover:text-gray-700 transition duration-200"
        aria-label="Close sidebar"
      >
        <span class="material-symbols-outlined text-2xl">close</span>
      </button>
    </div>

    <!-- Scrollable Content -->
    <div class="flex-1 overflow-y-auto py-6">
      <!-- Navigation Links -->
      <nav class="px-6">
        <ul class="space-y-4">
          <li>
            <a
              href="{{ url_for('index') }}"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >home</span
              >
              <span class="font-medium">Home</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('index') }}#about"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >person</span
              >
              <span class="font-medium">About</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('index') }}#featured-products"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >box</span
              >
              <span class="font-medium">Featured Products</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('store.store_page') }}"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >storefront</span
              >
              <span class="font-medium">Store</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('index') }}#recent-blog"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >article</span
              >
              <span class="font-medium">Blog</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('blog.all_articles') }}"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >library_books</span
              >
              <span class="font-medium">All Posts</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('index') }}#contact"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >contact_mail</span
              >
              <span class="font-medium">Contact</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('bookings.new_booking') }}"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span
                class="material-symbols-outlined mr-3 text-xl group-hover:text-blue-600"
                >book</span
              >
              <span class="font-medium">Book Me</span>
            </a>
          </li>
          <li>
            <a
              href="{{ url_for('store.cart') }}"
              class="flex items-center px-4 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
            >
              <span class="material-symbols-outlined"> shopping_cart </span>
              <span class="font-medium">Cart</span>
            </a>
          </li>
        </ul>
      </nav>

      <!-- Divider -->
      <div class="my-6 px-6">
        <div class="border-t border-gray-200"></div>
      </div>

      <!-- Social Links -->
      <div class="px-6">
        <h3
          class="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4"
        >
          Connect
        </h3>
        <div class="space-y-3">
          <!-- Phone -->
          <a
            href="tel:+92 302 5082744"
            class="flex items-center px-4 py-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition duration-200 group"
          >
            <span
              class="material-symbols-outlined mr-3 text-lg group-hover:text-green-600"
              >phone</span
            >
            <span class="text-sm">+92 302 5082744</span>
          </a>
          <!-- LinkedIn -->
          <a
            href="https://www.linkedin.com/in/fassih-ul-abbas-01240b247"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center px-4 py-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition duration-200 group"
          >
            <svg
              class="w-5 h-5 mr-3 group-hover:text-blue-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path d="..." />
            </svg>
            <span class="text-sm">LinkedIn</span>
          </a>
          <!-- Instagram -->
          <a
            href="https://www.instagram.com/fassih_rajpoot"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center px-4 py-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition duration-200 group"
          >
            <svg
              class="w-5 h-5 mr-3 group-hover:text-pink-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path d="..." />
            </svg>
            <span class="text-sm">Instagram</span>
          </a>
          <!-- Facebook -->
          <a
            href="https://www.facebook.com/share/1M42mRJGij/"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center px-4 py-2 text-gray-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition duration-200 group"
          >
            <svg
              class="w-5 h-5 mr-3 group-hover:text-blue-800"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path d="..." />
            </svg>
            <span class="text-sm">Facebook</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Sidebar Footer -->
    <div class="p-6 border-t border-gray-200">
      <div class="flex items-center text-xs text-gray-500">
        <span class="material-symbols-outlined mr-2 text-sm">location_on</span>
        <span>Lahore, Punjab, Pakistan</span>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const sidebarOverlay = document.getElementById("sidebar-overlay");
    const mobileSidebar = document.getElementById("mobile-sidebar");
    const mobileMenuButton = document.getElementById("mobile-menu-button");
    const closeSidebarBtn = document.getElementById("close-sidebar");

    function openSidebar() {
      sidebarOverlay.classList.remove("hidden");
      mobileSidebar.classList.remove("translate-x-full");
      document.body.classList.add("overflow-hidden"); // Prevent scroll
    }

    function closeSidebar() {
      mobileSidebar.classList.add("translate-x-full");

      // Wait for animation to finish before hiding overlay
      setTimeout(() => {
        sidebarOverlay.classList.add("hidden");
        document.body.classList.remove("overflow-hidden");
      }, 300); // Match your Tailwind transition duration
    }

    if (mobileMenuButton) {
      mobileMenuButton.addEventListener("click", () => {
        const isOpen = !mobileSidebar.classList.contains("translate-x-full");
        if (isOpen) {
          closeSidebar();
        } else {
          openSidebar();
        }
      });
    }

    if (closeSidebarBtn) {
      closeSidebarBtn.addEventListener("click", closeSidebar);
    }

    sidebarOverlay.addEventListener("click", closeSidebar);

    const sidebarLinks = mobileSidebar.querySelectorAll("a[href]");
    sidebarLinks.forEach((link) => {
      link.addEventListener("click", () => {
        closeSidebar();
      });
    });
  });
</script>
